{"version":3,"sources":["app/models/user.js"],"names":["mongoose","require","validate","bcrypt","nameValidator","validator","arguments","message","passIfEmpty","UserSchema","Schema","email","type","String","lowercase","unique","required","password","role","enum","default","properties","toObject","transform","doc","ret","toJSON","strict","pre","next","user","isModified","isNew","genSalt","err","salt","hash","methods","comparePassword","pw","cb","compare","isMatch","module","exports","model"],"mappings":";;AAAA,IAAMA,WAAWC,QAAQ,UAAR,CAAjB;AACA,IAAMC,WAAWD,QAAQ,oBAAR,CAAjB;AACA,IAAME,SAASF,QAAQ,QAAR,CAAf;;AAGA,IAAIG,gBAAgB,CAChBF,SAAS;AACLG,eAAW,UADN;AAELC,eAAW,CAAC,CAAD,EAAI,EAAJ,CAFN;AAGLC,aAAS;AAHJ,CAAT,CADgB,EAMhBL,SAAS;AACLG,eAAW,gBADN;AAELG,iBAAa,IAFR;AAGLD,aAAS;AAHJ,CAAT,CANgB,CAApB;;AAaA;AACA,IAAME,aAAa,IAAIT,SAASU,MAAb,CAAoB;AAC/BC,WAAO;AACHC,cAAMC,MADH;AAEHC,mBAAW,IAFR;AAGHC,gBAAQ,IAHL;AAIHC,kBAAU;AAJP,KADwB;AAO/BC,cAAU;AACNL,cAAMC,MADA;AAENG,kBAAU;AAFJ,KAPqB;AAW/BE,UAAM;AACFN,cAAMC,MADJ;AAEFM,cAAM,CAAC,QAAD,EAAW,SAAX,EAAsB,OAAtB,CAFJ;AAGFC,iBAAS;AAHP,KAXyB;AAgB/BC,gBAAY;AAhBmB,CAApB,EAiBZ;AACCC,cAAU;AACNC,mBAAW,mBAAUC,GAAV,EAAeC,GAAf,EAAoB;AAC3B,mBAAOA,IAAIR,QAAX;AACH;AAHK,KADX;AAMCS,YAAQ;AACJH,mBAAW,mBAAUC,GAAV,EAAeC,GAAf,EAAoB;AAC3B,mBAAOA,IAAIR,QAAX;AACH;AAHG;AANT,CAjBY,EA6Bf,EAACU,QAAQ,KAAT,EA7Be,CAAnB;;AA+BA;AACAlB,WAAWmB,GAAX,CAAe,MAAf,EAAuB,UAAUC,IAAV,EAAgB;AACnC,QAAMC,OAAO,IAAb;AACA,QAAI,KAAKC,UAAL,CAAgB,UAAhB,KAA+B,KAAKC,KAAxC,EAA+C;AAC3C7B,eAAO8B,OAAP,CAAe,EAAf,EAAmB,UAAUC,GAAV,EAAeC,IAAf,EAAqB;AACpC,gBAAID,GAAJ,EAAS;AACL,uBAAOL,KAAKK,GAAL,CAAP;AACH;AACD/B,mBAAOiC,IAAP,CAAYN,KAAKb,QAAjB,EAA2BkB,IAA3B,EAAiC,UAAUD,GAAV,EAAeE,IAAf,EAAqB;AAClD,oBAAIF,GAAJ,EAAS;AACL,2BAAOL,KAAKK,GAAL,CAAP;AACH;AACDJ,qBAAKb,QAAL,GAAgBmB,IAAhB;AACAP;AACH,aAND;AAOH,SAXD;AAYH,KAbD,MAaO;AACH,eAAOA,MAAP;AACH;AACJ,CAlBD;;AAoBA;AACApB,WAAW4B,OAAX,CAAmBC,eAAnB,GAAqC,UAAUC,EAAV,EAAcC,EAAd,EAAkB;AACnDrC,WAAOsC,OAAP,CAAeF,EAAf,EAAmB,KAAKtB,QAAxB,EAAkC,UAAUiB,GAAV,EAAeQ,OAAf,EAAwB;AACtD,YAAIR,GAAJ,EAAS;AACL,mBAAOM,GAAGN,GAAH,CAAP;AACH;AACDM,WAAG,IAAH,EAASE,OAAT;AACH,KALD;AAMH,CAPD;;AASAC,OAAOC,OAAP,GAAiB5C,SAAS6C,KAAT,CAAe,MAAf,EAAuBpC,UAAvB,CAAjB","file":"user.js","sourceRoot":"../../../../.."}